---
layout: snippets
title: 理解闭包的一段代码
category: snippets
---

下面这段代码应该有助于理解`closure`:

    console.clear();
    var result = [];
    var name='global';
    (function(){
        var name = 'private';
        for(var i=0;i<5;i++){
            result[i] = (function(j){
                var bbb = i + j;
                return function aaa(){
                    console.log(j + ' ' + name + i + ' ' + bbb + ' ' + result.length)
                }
            })(i)
        }
    })();
    
    result[1]()
    console.dir(result[0])
